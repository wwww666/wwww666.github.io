---
layout:     post
title:     	TCP三次握手和四次挥手
subtitle:    TCP
date:       2021-06-11
author:     wzk
header-img: img/home-bg-o.jpg
catalog: true
tags:
    - 计算机网络
---

## 前言

每日学习总结记录

>关键词：TCP

### TCP三次握手和四次挥手
**三次握手**  
三次握手的目的是为了准确无误地把数据送达目标处。  
简单的来说就是以下流程：  
客户端->发送带有SYN标志的数据包-第一次握手->服务端  
服务端->发送带有SYN/ACK标志的数据包-第二次握手->客户端  
客户端->发送带有ACK标志的数据包-第三次握手->服务端  
**为什么要三次握手？**：  
三次握手是为了建立可靠的通信信道，简单来说就是数据的发送与接收，而三次握手最主要的目的就是双方确认自己与对方的发送
与接收都是正常的。  
第一次握手：Client什么都不能确认，Server确认了对方发送正常，自己接收正常。  
第二次握手：Client确认了：自己发送、接收正常，对方发送、接收正常；Server确认了：对方发送正常，自己接收正常。  
第三次握手：Client确认了：自己发送、接收正常，对方发送、接收正常；Server确认了：自己发送、接收正常，对方发送接收正常。
**第二次握手传回了ACK，为什么还要传回SYN？**：  
接收端传回发送端所发送的ACK是为了告诉客户端，我接收到的信息确实就是你所发送的信号，表明从客户端到服务端的通信是正常的。
而回传SYN则是为了建立并确认从服务端到客户端的通信。  
**为什么要四次挥手**：  
客户端->发送一个FIN，用来关闭客户端到服务端的数据传送。  
服务器->收到这个FIN，它发回一个ACK，确认序号为收到的序号加1.和SYN一样，一个FIN占用一个序号。  
服务器->关闭与客户端的连接，发送一个FIN给客户端。  
客户端->发回ACK报文确认，并将确认序号设置为收到序号加1。  
任何一方都可以在数据传送结束后发出连接释放的通知，待对方确认后进入半关闭状态。当另一方也没有数据再发送的时候，则发出
连接释放通知，对方确认后就完全关闭TCP连接。  
本文参考：[Guide哥-计算机网络](https://snailclimb.gitee.io/javaguide/#/docs/network/)    




 

